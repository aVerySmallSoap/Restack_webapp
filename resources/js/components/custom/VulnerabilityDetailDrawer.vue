<script setup lang="ts">
import { Button } from '@/components/ui/button';
import { Drawer, DrawerClose, DrawerContent, DrawerDescription, DrawerFooter, DrawerHeader, DrawerTitle } from '@/components/ui/drawer';

const props = defineProps<{
    open: boolean;
    vuln: Record<string, any>;
}>();

const emit = defineEmits<{
    (e: 'update:open', value: boolean): void;
}>();
</script>

<template>
    <Drawer :open="props.open" @update:open="emit('update:open', $event)">
        <DrawerContent>
            <div class="mx-auto w-full max-w-md">
                <DrawerHeader>
                    <DrawerTitle>Vulnerability Details</DrawerTitle>
                    <DrawerDescription> Information about the selected vulnerability. </DrawerDescription>
                </DrawerHeader>
                <div class="space-y-2 p-4">
                    <div v-for="(val, key) in props.vuln" :key="key" class="flex gap-2">
                        <strong class="w-1/3 text-right">{{ key }}:</strong>
                        <span class="w-2/3 break-words">{{ val }}</span>
                    </div>
                </div>
                <DrawerFooter>
                    <DrawerClose as-child>
                        <Button variant="outline">Close</Button>
                    </DrawerClose>
                </DrawerFooter>
            </div>
        </DrawerContent>
    </Drawer>
</template>
